# 6502 Stack Operations - JSR/RTS, Interrupts, PHA/PLA

          The Break Flag and the Stack
          Interrupts and stack operations involving the status register (or P register)
          are the only instances, the break flag appears (namely on the stack).
          It has no representation in the CPU and can't be accessed by any instruction.
             The break flag will be set to on (1), whenever the transfer was caused by
             software (BRK or PHP).
             The break flag will be set to zero (0), whenever the transfer was caused
             by a hardware interrupt.
             The break flag will be masked and cleared (0), whenever transferred from
             the stack to the status register, either by PLP or during a return from
             interrupt (RTI).
          Therefore, it's somewhat difficult to inspect the break flag in order to
          discern a software interrupt (BRK) from a hardware interrupt (NMI or IRQ) and
          the mechanism is seldom used. Accessing a break mark put in the extra byte
          following a BRK instruction is even more cumbersome and probably involves
          indexed zeropage operations.
          Bit 5 (unused) of the status register will be set to 1, whenever the
          register is pushed to the stack. Bits 5 and 4 will always be ignored, when
          transferred to the status register.
          E.g.,
          1)
                   SR: N V - B D I Z C
                       0 0 - - 0 0 1 1
              PHP  ->  0 0 1 1 0 0 1 1   =  $33
              PLP  <-  0 0 - - 0 0 1 1   =  $03
            but:
              PLA  <-  0 0 1 1 0 0 1 1   =  $33
          2)
              LDA #$32 ;00110010
              PHA  ->  0 0 1 1 0 0 1 0   =  $32
              PLP  <-  0 0 - - 0 0 1 0   =  $02
          3)
              LDA #$C0
              PHA -> 1 1 0 0 0 0 0 0     =  $C0
                                                               6502 Instruction Set
              LDA #$08
              PHA -> 0 0 0 0 1 0 0 0     =  $08
              LDA #$12
              PHA -> 0 0 0 1 0 0 1 0     =  $12
              RTI
                    SR: 0 0 - - 0 0 1 0  =  $02
                    PC: $C008
          Mind that most emulators are displaying the status register (SR or P) in the
          state as it would be currently pushed to the stack, with bits 4 and 5 on, adding
          a bias of $30 to the register value. Here, we chose to rather omit this virtual
          presence of these bits, since there isn't really a slot for them in the hardware.
