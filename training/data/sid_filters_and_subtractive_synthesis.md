# SID Filters and Subtractive Synthesis (low-pass, band-pass, high-pass)

**Summary:** The SID chip offers low-pass, band-pass, and high-pass filters with per-channel routing, enabling subtractive synthesis by removing harmonics. Filters can combine additively (e.g., low-pass and high-pass to create a notch filter), and real-time modulation allows for dynamic effects like wind or jet sounds.

**Filtering**

The SID provides three selectable filter types: low-pass, band-pass, and high-pass. Each audio channel can be routed independently through the filter network; routing is per-channel (select whether a given voice is passed through the filter).

- **Subtractive synthesis:** Start with a harmonically rich source waveform (sawtooth, pulse/noise, etc.) and remove frequency components with the SID filters to create a wide variety of timbres.
- **Filter types and behavior:**
  - **Low-pass:** Attenuates frequencies above the cutoff. Characteristic slope: 12 dB/octave. Produces a "full" sound when set to pass lower harmonics.
  - **Band-pass:** Attenuates frequencies both above and below the cutoff. Characteristic slope: 6 dB/octave on each side of the center. Produces a "thin" sound centered at the pass frequency.
  - **High-pass:** Attenuates frequencies below the cutoff. Characteristic slope: 12 dB/octave. Produces a "tinny" sound emphasizing higher harmonics.
- **Filter combination:** Multiple filter types may be enabled simultaneously; their effects are additive. Enabling both low-pass and high-pass produces a notch (band-reject) response.
- **Dynamic modulation:** Cutoff (and resonance where available) can be modulated in real time to create evolving, non-static sounds — e.g., wind, engines, whooshes — by moving the filter passband over time.

## Source Code

The following diagrams illustrate the waveforms generated by the SID chip:

**Triangular Waveform:**

```text
   /\    /\    /\    /\
  /  \  /  \  /  \  /  \
 /    \/    \/    \/    \
```

**Sawtooth Waveform:**

```text
|\   |\   |\   |\   |\
| \  | \  | \  | \  | \
|  \ |  \ |  \ |  \ |  \
|   \|   \|   \|   \|   \
```

**Square Waveform:**

```text
 ____    ____    ____    ____
|    |  |    |  |    |  |    |
|    |  |    |  |    |  |    |
|    |  |    |  |    |  |    |
```

**Rectangular Waveform:**

```text
 ____    ____    ____    ____
|    |  |    |  |    |  |    |
|    |  |    |  |    |  |    |
|    |  |    |  |    |  |    |
```

These waveforms serve as the basis for sound generation in the SID chip.

## Key Registers

To program the SID filters, the following registers are utilized:

- **Cutoff Frequency Low Byte (FC_L):** Register 21 (0x15)
- **Cutoff Frequency High Byte (FC_H):** Register 22 (0x16)
- **Resonance and Filter Routing (RES_FILT):** Register 23 (0x17)
- **Mode and Volume (MODE_VOL):** Register 24 (0x18)

**Bit Definitions:**

- **FC_L (Register 21):** Bits 0-7: Low byte of the 11-bit cutoff frequency.
- **FC_H (Register 22):** Bits 0-2: High 3 bits of the 11-bit cutoff frequency.
- **RES_FILT (Register 23):**
  - Bits 4-7: Resonance control (0-15).
  - Bits 0-3: Filter routing for voices 1-3 and external input.
- **MODE_VOL (Register 24):**
  - Bits 4-6: Filter mode selection (low-pass, band-pass, high-pass).
  - Bits 0-3: Master volume control (0-15).

For detailed programming information, refer to the Commodore 64 Programmer's Reference Guide.

## References

- "sid_overview_waveforms_and_noise" — expands on filtering applied to base waveforms (triangle, saw, pulse, noise)

## Labels
- FC_L
- FC_H
- RES_FILT
- MODE_VOL
