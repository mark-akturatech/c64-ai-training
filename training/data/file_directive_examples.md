# Kick Assembler .file directive (usage and examples)

**Summary:** Examples and parameter notes for Kick Assembler's .file directive (.file [name=...], type="bin"/"prg", segments="..."), the %o root-filename replacement, use of mbfiles, and a minimal .disk example. Includes example segments "Code" and "Data" with BasicUpstart2(start) and simple code/data fills for labels Mul3 and Sinus.

## .file directive
The .file directive assigns an output filename and options for one or more output files generated by the assembler. Parameters commonly used in examples:
- name="..." — The name of the file. (%o will be replaced with the root filename.)
- type="bin" — Sets the file type. Valid types are "prg" and "bin".
- segments="..." — Comma-separated list of assembly segments to write into this file.
- mbfiles — shown in examples (present in source examples; behavior not defined here).

The directive may be used multiple times to produce multiple output files from the same project (for example separate PRG and raw BIN outputs, or separate files for different segments).

## %o root filename replacement
When used in the name parameter, the token %o is replaced at assembly time with the project's root filename (root filename = source file basename). Example: name="%o.prg" becomes "MyProject.prg" if the root filename is MyProject.asm.

## .disk directive (basic form)
.disk declares a disk image to produce. The simplest form only specifies the disk filename and lets other parameters default:

.disk [filename="MyDisk.d64"]
{
}

The writer name (optional) may be left empty to use the default disk writer; otherwise it can refer to a plugin writer. The .disk block contains per-file parameter entries for files to put on the disk image.

## Examples
Below are direct example snippets (assembly and directive lines) demonstrating:
- multiple .file directives
- type="bin"
- segments assignment
- mbfiles usage
- %o replacement
- minimal .disk example
- simple "Code" and "Data" segments with BasicUpstart2(start), a Mul3 code label and a Sinus data label

## Source Code
```asm
; Multiple file outputs, specifying segments and types
.file [name="MyFile.prg", segments="Code"];
.file [name="MyFile.bin", type="bin", segments="Code,Data"];
.file [name="Data.prg", mbfiles, segments="Data"];

; Using %o (root filename replacement)
.file [name="%o.prg", segments="Code"];

; Minimal disk directive example
.disk [filename="MyDisk.d64"]
{
}

; --- Segment: Code ---
.segment "Code"
BasicUpstart2(start)

start:
    jsr Mul3
    rts

; Example subroutine label
Mul3:
    ; example implementation (placeholder)
    ; multiply accumulator by 3 (illustrative)
    tay
    clc
    adc a      ; NOTE: real implementation depends on context
    adc a
    tya
    rts

; --- Segment: Data ---
.segment "Data"
; table/data fill for Sinus (example bytes)
Sinus:
    .byte $00,$10,$20,$30,$40,$50,$60,$70,$7F,$70,$60,$50,$40,$30,$20,$10
```

## References
- "file_directive_content_and_params_intro" — expands on file directive parameter details
