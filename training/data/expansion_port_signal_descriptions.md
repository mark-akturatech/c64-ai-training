# Expansion-port signals: DOT CLOCK (Pin 6), BA (Pin 12), DMA (Pin 13), and ground pins

**Summary:** Describes C64 expansion-port signals: Pin 6 DOT CLOCK (8.18 MHz) as the master video dot clock and system timing source; Pin 12 BA (BUS AVAILABLE) from the VIC-II which goes low 3 cycles before the VIC-II takes bus control and stays low during display fetches; Pin 13 DMA behavior — when low the 6510 address/data/RW lines become high‑impedance to allow an external bus master, with the constraint that DMA must be asserted only while φ2 (phase‑2) clock is low; Pins 1, 22, A, Z are system ground.

**Signals**
- **System ground**
  - Pins 1, 22, A, Z on the expansion port are connected to system ground.

- **DOT CLOCK (Pin 6)**
  - Pin 6 is the DOT CLOCK (the 8.18‑MHz video dot clock).
  - This dot clock is the master timing source for the system (all system timing is derived from it).

- **BA — BUS AVAILABLE (Pin 12)**
  - Pin 12 is BA from the VIC‑II.
  - BA is asserted low 3 cycles before the VIC‑II takes over the system buses.
  - BA remains low while the VIC‑II is performing display fetches (i.e., for the period the VIC‑II requires the buses).

- **DMA — Direct Memory Access control (Pin 13)**
  - Pin 13 is the DMA control line used to tri‑state the 6510 CPU buses.
  - When DMA is pulled low:
    - The 6510 address bus, data bus, and the Read/Write (R/W) line enter high‑impedance state so an external processor can take control of the system buses.
  - Timing and usage constraints:
    - DMA must be asserted (pulled low) only while the φ2 (phase‑2) clock is low. (φ2 is the CPU phase‑2 clock.)
    - The external device must conform to VIC‑II timing because the VIC‑II continues display DMA regardless of the 6510 being tri‑stated; improper timing will interfere with video fetches.
  - Electrical note:
    - The DMA line is pulled up on the Commodore 64 (i.e., external hardware must actively pull it low to assert DMA).

## Source Code
```text
VIC-II Timing Diagram:

Cycle:  1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34  35  36  37  38  39  40
        ───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───
φ2:     ___|   |___|   |___|   |___|   |___|   |___|   |___|   |___|   |___|   |___|   |___|   |___|   |___|   |___|   |___|   |___|   |___|   |___|   |___|   |___
        ───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───
BA:     ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
        ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
```

## References
- "z80_cartridge_and_cpm_overview" — expands on Z‑80 cartridge usage of expansion bus signals
- "z80_enable_basic_program" — expands on programs using expansion bus control (enabling Z‑80 and disabling 6510 IRQs)
