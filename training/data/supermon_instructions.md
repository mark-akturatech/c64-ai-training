# Supermon — monitor generator (Appendix H)

**Summary:** Supermon is a monitor generator that writes a machine-language monitor (MLM) into a suitable area of RAM; commands include monitor essentials (.R, .M, .S, .L, .G, .X), assembler/disassembler (.A, .D), and common extras (.F, .H, .T, optional .I). After creating the MLM you exit to BASIC and remove the generator; invoke the MLM later with SYS4 or SYS8.

**Overview**
Supermon is not a persistent monitor program: it finds a suitable place in RAM, writes a complete machine-language monitor there, and transfers control to it. Typical workflow:
- LOAD the Supermon generator program and RUN it.
- The generator writes an MLM into RAM and calls it.
- Exit back to BASIC and execute NEW to remove the generator program (avoids creating multiple MLMs).
- Invoke the installed MLM later with SYS4 or SYS8 (depending on the version).

The generator approach prevents multiple copies of the builder remaining in memory and places the monitor where it fits best.

**Essential commands**
These commands are present in all standard Supermon versions:
- .R — Display and optionally change CPU registers (register inspect/modify).
- .M — Display and optionally change memory (memory dump and edit).
- .S — Save memory (block) to disk or tape.
- .L — Load memory from disk or tape.
- .G — Go: jump to a machine-language address and begin execution.
- .X — Exit to BASIC.

**Assembler / Disassembler extras**
Common extra commands included in Supermon:
- .A — Assemble (enter machine code via assembler).
- .D — Disassemble (decode memory into assembly mnemonics).

**Additional optional commands (most versions)**
Many versions of Supermon include these convenience commands:
- .F — Fill a memory range with a constant byte value (memory fill).
- .H — Hunt: search a memory range for a byte pattern (pattern search).
- .T — Transfer (move/copy) a block of memory to a new location.
- .I — (Optional in a few versions) Single-step execution for debugging.

Examples of the above commands are provided in the Source Code section.

**Do-It-Yourself Supermon**
If you do not have access to Supermon from friends, dealers, clubs, or disk, you may find the following program useful for the Commodore 64 only.

Enter this program (it will take you hours). Be sure that lines 300 and above are correct; the lower numbered DATA lines will be checked for accuracy by the program.

When you say RUN, the program will run in two phases. Part 1 takes over two minutes to run: it will check all DATA statements for missing lines and errors and report any problems to you. Part 2 will run only if part 1 shows no errors: it will cause the program to "collapse" into itself, resulting in Supermon. The moment the program has completed running, save Supermon to disk or tape.

The Supermon generated by this program is a "junior" version (to save your fingers) but it contains all commands needed for this book.

## Source Code
```text
.F 1800 18FF 00        ; fill $1800-$18FF with $00
.H 0800 1800 20 D2 FF  ; hunt for pattern 20 D2 FF in $0800-$1800
.T 0800 0BFF 8000      ; transfer block $0800-$0BFF to $8000

; invoking the created MLM (example)
SYS4
SYS8
```

## References
- "MACHINE - Appendix H" — Supermon instructions overview (this chunk)
- "Machine Language for the Commodore 64 and Other Commodore Computers" — Do-It-Yourself Supermon instructions