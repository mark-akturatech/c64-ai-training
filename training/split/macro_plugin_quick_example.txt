# Kick Assembler - Complete quick example of a macro plugin implementing IMacro: package test.plugins.macros; class MyMacro implements IMacro with MacroDefinition name set to "MyMacro" and execute() printing "Hello world from mymacro!" and returning zero bytes. Shows usage inside assembly: .plugin "test.plugins.macros.MyMacro" MyMacro(). Discusses IValue arguments and IEngine for communication.


File getCurrentDirectory();

Gets the current directory.

File getFile(String filename);

Opens a file with the given filename. The assembler
will look for the file as it would look for a source code
file. If it isn't present in the current directory, it will look
in the library directories. It will return null if the file
can't be found.

String normalizeFileName(String name);

Used to evaluate any parameters in a filename string.
E.g. if a filename for a disk is given as "%o.d64"
and assembled from MyDemo.asm %o is replaced and
"MyDemo.d64" is returned.

OutputStream openOutputStream(String
throws Exception;

name)

Use this to create output from the assembler (like a
disk file for a disk writer)

void print(String message);

Prints a message to the screen. Works like the .print
directive.

void printNow(String message);

Prints a message to the screen. Works like the .printnow directive.

byte[] stringToBytes(String str);

Converts a string to petscii bytes (Upper case)

---
Additional information can be found by searching:
- "imacro_interface_definition" which expands on IMacro interface used by example
- "general_communication_interfaces" which expands on IEngine and IValue used by plugins
