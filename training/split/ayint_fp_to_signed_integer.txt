# ********* - AYINT: Convert a floating-point number to a 16-bit signed integer (routine at $B1BF). Checks that the Floating Point Accumulator is within the signed 16-bit range (32767 to -32768), produces an ILLEGAL QUANTITY error on failure, and stores the result with high byte at $64 and low byte at $65. Includes the following blank line.

45503         $B1BF          AYINT
Convert a Floating Point Number to a Signed Integer

This subroutine first checks to make sure that the number in the
Floating Point Accumulator is between 32767 and -32768.  If it is not,
an ILLEGAL QUANTITY error results.  If it is, the routine converts it
to a 16-bit signed integer with the high byte in location 100 ($64),
and the low byte in location 101 ($65).


---
Additional information can be found by searching:
- "floating_point_constant_n32768" which expands on Uses -32768 constant for lower-range checking
- "fp_to_signed_in_a_and_y_registers" which expands on Called by that routine to perform the actual conversion
- "intidx_subscript_conversion" which expands on Related routine for subscript conversion and positivity checks
