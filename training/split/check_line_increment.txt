# - Commented Commodore 64 KERNAL Disassembly (Magnus Nyman) - When moving the cursor forward from the end of a screen line, places the cursor at the start of the line below. Compares PNTR ($D3) with end-of-line positions (column 39 and +$28) and increments TBLX ($D6) unless at bottom of screen. Handles wrap between physical/logical double-lines.

                                *** CHECK LINE INCREMENT
                                When the cursor is at the end of the screen, if it is
                                moved forward, this routine places the cursor at the start
                                of the line below.
.,E8B3 A2 02    LDX #$02        start by testing position $27 (39)
.,E8B5 A9 27    LDA #$27        compare with PNTR
.,E8B7 C5 D3    CMP $D3         brach if equal, and move cursor down
.,E8B9 F0 07    BEQ $E8C2       else, add $28 to test next physical line
.,E8BB 18       CLC
.,E8BC 69 28    ADC #$28        two lines to test
.,E8BE CA       DEX
.,E8BF D0 F6    BNE $E8B7       return here without moving cursor down
.,E8C1 60       RTS             get TBLX
.,E8C2 A6 D6    LDX $D6         and test if at the 25th line
.,E8C4 E0 19    CPX #$19        yepp, return without moving down
.,E8C6 F0 02    BEQ $E8CA       increment TBLX
.,E8C8 E6 D6    INC $D6
.,E8CA 60       RTS


---
Additional information can be found by searching:
- "check_line_decrement" which expands on inverse operation: moving backward past start of line
