# byRiclianll - The NEW (format) command syntax and parameters: OPEN 15,8,15 ; PRINT#15,"NO:DISK NAME, ID" ; CLOSE 15. Explains NO: (N = NEW, 0 optional drive number), disk name (up to 16 chars, cosmetic), comma, two-character disk ID (written to every sector and used to prevent accidental overwrites). Notes that a 'full' new formats all tracks and takes ~2-3 minutes.

The  New  Command 

When  a  fresh  diskette  is  taken  from  its  storage  envelope,  the  1541  cannot  recognize 
it.  The  diskette  must  be  formatted  or  newed  prior  to  first-time  use.  Formatting  or  new- 
ing  a  diskette  is  performed  by  the  DOS.  The  DOS  proceeds  to  write  concentric  tracks 
made  up  of  blocks/sectors  to  the  diskette.  In  addition,  a  directory  is  set  up,  wherein 
the  drive  records  information  about  all  the  files  stored  on  the  diskette.  Chapter  3  pro- 
vides a  much  more  detailed  account  of  this  operation.  The  syntax  for  formatting  a  diskette 
is  really  quite  simple: 

SYNTAX:  OPEN   15,    8,  15 

PRINT#15,    "NO: DISK  NAME, ID" 
CLOSE  15 


ALTERNATE:  PRINT#15, 

EXAMPLE:        OPEN  15, 
PRINT#15, 
CLOSE  15 


"N:DISK  NAME, ID" 
,  15 

"NO: MY  DISKETTE, MD 


DOS  5.1:        >NO:DISK  NAME, ID 
>N:DISK  NAME, ID 


20 


The  disk  command,  "NO:MY  DISKETTE,MD",  is  sent  to  the  drive  by  the  PRINT#15 
statement.  The  command  has  three  parameters.  The  first  parameter  within  quotes  is 
NO:.  The  N  stands  for  NEW.  The  0  is  a  holdover  from  the  dual  drive  system  and  in- 
dicates which  drive.  The  0  is  optional  on  the  1541  and  may  be  omitted.  The  colon  ter- 
minates the  DOS  command.  The  second  parameter  is  the  disk  name.  It  is  limited  to  16 
characters  in  length.  Generally  these  are  alphanumeric  characters.  In  the  example  above, 
we  named  the  diskette:  MY  DISKETTE.  The  disk  name  is  cosmetic  and  appears  in  the 
directory  for  reference  purposes  only.  It  is  not  written  anywhere  else  on  the  diskette. 
The  disk  name  is  followed  by  a  comma.  The  DOS  looks  or  parses  for  this.  After  the 
comma  are  two  alphanumeric  characters  for  the  disk  ID.  In  the  above  example  we 
selected  MD  as  our  disk  identifier.  The  ID  is  written  to  every  block  or  sector  on  the 
diskette.  It  is  impossible  to  alter.  The  DOS  repeatedly  looks  at  the  ID  of  a  sector  to 
be  sure  that  you  have  not  switched  diskettes  on  it.  Each  diskette  should  be  formatted 
with  a  unique  ID.  This  will  prevent  the  DOS  from  inadvertently  overwriting  programs 
on  what  appears  to  be  an  identical  diskette. 


---
Additional information can be found by searching:
- "dos_support_short_syntax_note" which expands on alternate short syntax in DOS SUPPORT
- "short_new_vs_full_new_and_notes" which expands on short new (erase) behavior
