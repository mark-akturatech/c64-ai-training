# Kick Assembler - Segment parameter reference (part 3): sidFiles (include SID files), start (start=$1000 sets start of default memory block), startAfter (startAfter="Code" makes default memory block start after other segment), virtual (virtual makes memory blocks virtual). Explains parameter semantics and examples.


start=$1000

Set the start of the default memory block to the
given expression

startAfter

startAfter="Code"

Makes the default memory block start after the given segment.

virtual

virtual

Makes all the memory
blocks in the segment virtual.

53

Includes program files
da- as memory blocks.

Chapter 11
PRG files and D64 Disks
11.1. Introduction
This chapter explains how to create prg-files and d64 disk images using the .file and .disk directive.
The .file directive is quite straight forward, but adds a few extra options over the outPrg parameter for segments.
With the .disk directive you can use Kick Assembler as a standalone disk creation tool, by selecting files from
the hard disk to add to a disk image, or you can assemble directly to the disk using segments, or you can mix the
two methods.The directive collects parameters and sends them to a disk writer which can either be the build in
disk writer or one given by a plug in. The build in default writer is based on the 'CC1541' disk tool by Andreas
Larsson, and should cover all needs when creating standard disks. With specialized writers from plugins you can
write disks for specific loaders etc.
A big thanks to Andreas for rewriting CC1541 to Java for use in Kick Assembler!

11.2. Parameter Maps
The .file and .disk directives use parameter maps to describe their parameters. These are square brackets with
comma separated parameters:
[name="Bob", age=27, useGlasses=false, wearsTshirt]

You can assign any type of value (strings, numbers, booleans, etc) to a parameter. Notice the last parameter has
no assignment. This is a short notation for assigning the boolean value 'true' to the parameter ('wearsTshirt=true').

11.3. The File Directive
The file directive is used like this:
// Save a prg file containing the code segment
.file [name="MyFile.prg", segments="Code"]
// Save a bin file containing the code and data segment
.file [name="MyFile.bin", type="bin", segments="Code,Data"]
// Save one file for each memoryblock in the DATA segment
// ('Data_Sinus.prg' and 'Data_Mul3.prg' are created)
.file [name="Data.prg", mbfiles, segments="Data"]
// %o in the filename will be replaced with the name of the root source
file without the extension
// If you called the assembler with a file called Source27.asm this will
output to Source27.prg
.file [name="%o.prg", segments="Code"]

start:

// Define some segments
.segment Code []
BasicUpstart2(start)
inc $d020
jmp *-3
.segment Data []
*=$0f00 "Mul3"
.fill $40, i*3
*=$2000 "Sinus"
.fill $100, 127.5 + 127.5*sin(toRadians(i*360/256))

54

PRG files and D64 Disks

The content of the file is given using an intermediate segment which makes it quite flexible. See the segment
chapter for all options or the disk directive sections for more examples.
The name parameter is mandatory, the rest is optional. Here are the list of specific .file directive parameters:

Table 11.1. File Directive Parameters

---
Additional information can be found by searching:
- "segment_parameters_part1" which expands on see earlier listed segment parameters
