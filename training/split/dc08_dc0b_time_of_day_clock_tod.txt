# - C64 I/O Map (Mapping The Commodore 64) - $DC08-$DC0B â€” Time-of-Day (TOD) Clock: four BCD registers for tenths, seconds, minutes, hours; includes latching behavior when reading/writing hours (reading hours latches clock until tenths are read; writing hours latches until tenths written). Bit 7 of hours is AM/PM flag. TOD has alarm that can generate IRQ. Useful for precise timing and as seed for RND in BASIC.

$DC08-$DC0B               Time of Day Clock (TOD)

                          In addition to the two general-purpose timers, the 6526 CIA chip has a
                          special-purpose Time of Day Clock, which keeps time in a format that
                          humans can understand a little more easily than microseconds.

                          This Time of Day Clock even has an alarm, which can cause an interrupt
                          at a specific time.  It is organized in four registers, one each for
                          hours, minutes, seconds, and tenths of seconds.  Each register reads
                          out in Binary Coded Decimal (BCD) format, for easier conversion to
                          ASCII digits.  A BCD byte is divided into two nybbles, each of which
                          represents a single digit in base 10.  Even though a four-bit nybble
                          can hold a number from 0 to 15, only the base 10 digits of 0-9 are
                          used.  Therefore, 10 0'clock would be represented by a byte in the
                          hours register with the nybbles 0001 and 0000, which stand for the
                          digits 1 and 0.  The binary value of this byte would be 16 (16 times
                          the high nybble plus the low nybble).  Each of the other registers
                          operates in the same manner.  In addition, Bit 7 of the hours register
                          is used as an AM/PM flag.  If that bit is set to 1, it indicates PM,
                          and if it is set to 0, the time is AM.

                          The Time of Day Clock Registers can be used for two purposes,
                          depending on whether you are reading them or writing to them.  If you
                          are reading them, you will always be reading the time.  There is a
                          latching feature associated with reading the hours register in order
                          to solve the problem of the time changing while you are reading the
                          registers.  For example, if you were reading the hours register just
                          as the time was changing from 10:59 to 11:00, it is possible that you
                          would read the 10 in the hours register, and by the time you read the
                          minutes register it would have changed from 59 to 00.  Therefore, you
                          would read 10:00 instead of either 10:59 or 11:00.

                          To prevent this kind of mistake, the Time of Day Clock Registers stop
                          updating as soon as you read the hours register, and do not start
                          again until you read the tenths of seconds register.  Of course, the
                          clock continues to keep time internally even though it does not update
                          the registers.  If you want to read only minutes, or seconds or tenths
                          of seconds, there is no problem, and no latching will occur.  But
                          anytime you read hours, you must follow it by reading tenths of
                          seconds, even if you don't care about them, or else the registers will
                          not continue to update.

                          Writing to these registers either sets the time or the alarm,
                          depending on the setting of Bit 7 of Control Register B (56335,

---
Additional information can be found by searching:
- "dc0d_ciaicr_interrupt_control_register" which expands on Enabling TOD alarm interrupt via CIA ICR
