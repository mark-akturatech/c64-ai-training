# C64 Programmer's Reference - Introduction, Using This Guide

~


    What you can do with this book is to find a considerable amount of
  valuable programming reference information written in easy to read,
  plain English with the programmer's jargon explained. On the other hand
  the programming professional will find all the information needed to use
  the capabilities of the COMMODORE 64 effectively.

  WHAT'S INCLUDED?

    o Our complete "BASIC dictionary" includes Commodore BASIC language
      commands, statements and functions listed in alphabetical order.
      We've created a "quick list" which contains all the words and their
      abbreviations. This is followed by a section containing a more
      detailed definition of each word along with sample BASIC programs
      to illustrate how they work.
    o If you need an introduction to using machine language with BASIC
      programs our layman's overview will get you started.
    o A powerful feature of all Commodore computers is called the KERNAL.
      It helps insure that the programs you write today can also be used
      on your Commodore computer of tomorrow.
    o The Input/Output Programming section gives you the opportunity to
      use your computer to the limit. It describes how to hook-up and use
      everything from lightpens and joysticks to disk drives, printers,
      and telecommunication devices called modems.
    o You can explore the world of SPRITES, programmable characters, and
      high resolution graphics for the most detailed and advanced animated
      pictures in the microcomputer industry.
    o You can also enter the world of music synthesis and create your own
      songs and sound effects with the best built-in synthesizer available
      in any personal computer.
    o If you're an experienced programmer, the soft load language section
      gives you information about the COMMODORE 64's ability to run CP/M*
      and high level languages. This is in addition to BASIC.

    Think of your COMMODORE 64 PROGRAMMER'S REFERENCE GUIDE as a useful
  tool to help you and you will enjoy the -hours of programming ahead
  of you.




  -----------
  * CP/M is a registered trademark of Digital Research, Inc.

  x   INTRODUCTION
~


  HOW TO USE THIS REFERENCE GUIDE

    Throughout this manual certain conventional notations are used to de-
  scribe the syntax (programming sentence structure) of BASIC commands or
  statements and to show both the required and optional parts of each BASIC
  keyword. The rules to use for interpreting statement syntax are as
  follows:

    1. BASIC keywords are shown in capital letters. They must appear where
       shown in the statement, entered and spelled exactly as shown.
    2. Items shown within quotation marks (" ") indicate variable data
       which you must put in. Both the quotation marks and the data inside
       the quotes must appear where shown in each statement.
    3. Items inside the square brackets ([ ]) indicate an optional state-
       ment parameter. A parameter is a limitation or additional qualifier
       for your statements. If you use an optional parameter you must
       supply the data for that optional parameter. In addition, ellipses
       (...) show that an optional item can be repeated as many times as
       a programming line allows.
    4. If an item in the square brackets ([ ]) is UNDERLINED, that means
       that you MUST use those certain characters in the optional para-
       meters, and they also have to be spelled exactly as shown.
    5. Items inside angle brackets (< >) indicate variable data which you
       provide. While the slash (/) indicates that you must make a choice
       between two mutually exclusive options.

  EXAMPLE OF SYNTAX FORMAT:

    OPEN <file-num>,<device>[,<address>],["<drive>:<filename>][,<mode>]"

  EXAMPLES OF ACTUAL STATEMENTS:

    10 OPEN 2,8,6,"0:STOCK FOLIO,S,W"
    20 OPEN 1,1,2,"CHECKBOOK"
    30 OPEN 3,4

    When you actually apply the syntax conventions in a practical situa-
  tion, the sequence of parameters in your statements might not be exactly
  the same as the sequence shown in syntax examples. The examples are not
  meant to show every possible sequence. They are intended to present all
  required and optional parameters.


                                                          INTRODUCTION   xi
~


    Programming examples in this book are shown with blanks separating
  words and operators for the sake of readability. Normally though, BASIC
  doesn't require blanks between words unless leaving them out would give
  you an ambiguous or incorrect syntax.
    Shown below are some examples and descriptions of the symbols used for
  various statement parameters in the following chapters. The list is not
  meant to show every possibility, but to give you a better understanding
  as to how syntax examples are presented.

    SYMBOL        EXAMPLE                 DESCRIPTION
  <file-num>        50              A logical file number
  <device>          4               A hardware device number
  <address>         15              A serial bus secondary
                                    device address number
  <drive>           0               A physical disk drive number
  <file-name>       "TEST.DATA"     The name of a data or program file
  <constant>        "ABCDEFG"       Literal data supplied by
                                    the programmer
  <variable>        X145            Any BASIC data variable name or
                                    constant
  <string>          AB$             Use of a string type variable required
  <number>          12345           Use of a numeric type variable
                                    required
  <line-number>     1000            An actual program line number
  <numeric>         1.5E4           An integer or floating-point variable


  COMMODORE 64 APPLICATIONS GUIDE

    When you first thought about buying a computer you probably asked
  yourself, "Now that I can afford to buy a computer, what can I do with
  it once I get one?"
    The great thing about your COMMODORE 64 is that you can make it do what
  YOU want it to do! You can make it calculate and keep track of home and
  business budget needs. You can use it for word processing. You can make
  it play arcade-style action games. You can make it sing. You can even
  create your own animated cartoons, and more. The best part of owning a
  COMMODORE 64 is that even if it did only one of the things listed below
  it would be well worth the price you paid for it. But the 64 is a
  complete computer and it does do EVERYTHING listed and then some!



  xii   INTRODUCTION
~


    By the way, in addition to everything here you can pick up a lot of
  other creative and practical ideas by signing up with a local Commodore
  Users' Club, subscribing to the COMMODORE and POWER/PLAY magazines, and
  joining the COMMODORE INFORMATION NETWORK on CompuServe(TM)

      APPLICATION               COMMENTS/REQUIREMENTS

  ACTION PACKED           You can get real Bally Midway arcade games GAMES
                          like Omega Race, Gorf and Wizard of War, as well
                          as "play and learn" games like Math Teacher 1,
                          Home Babysitter and Commodore Artist.

  ADVERTISING &           Hook your COMMODORE 64 to a TV, put it in
  MERCHANDISING           a store window with a flashing, animated, and
                          musical message and you've got a great point of
                          purchase store display.

  ANIMATION               Commodore's Sprite Graphics allow you to create
                          real cartoons with 8 different levels so that
                          shapes can move in front of or behind each
                          other.

  BABYSITTING             The COMMODORE 64 HOME BABYSITTER cartridge can
                          keep your youngest child occupied for hours and
                          teach alphabet/ keyboard recognition at the same
                          time. It also teaches special learning concepts
                          and relationships.

  BASIC PROGRAMMING       Your COMMODORE 64 USER'S GUIDE and the TEACH
                          YOURSELF PROGRAMMING series of books and tapes
                          offer an excellent starting point.

  BUSINESS                The COMMODORE 64 offers the "Easy" series
  SPREADSHEET             of business aids including the most powerful
                          word processor and largest spreadsheet
                          available for any personal computer.

  COMMUNICATION           Enter the fascinating world of computer "net-
                          working." If you hook a VICMODEM to your
                          COMMODORE 64 you can communicate with other
                          computer owners all around the world.


                                                        INTRODUCTION   xiii
~


                          Not only that, if you join the COMMODORE
                          INFORMATION NETWORK on CompuServe(TM) you can
                          get the latest news and updates on all Commodore
                          products, financial information, shop at home
                          services, you can even play games with the
                          friends you make through the information systems
                          you join.

  COMPOSING SONGS         The COMMODORE 64 is equipped with the most
                          sophisticated built-in music synthesizer
                          available on any computer. It has three com-
                          pletely programmable voices, nine full music
                          octaves, and four controllable waveforms.
                          Look for Commodore Music Cartridges and
                          Commodore Music books to help you create or
                          reproduce all kinds of music and sound effects.

  CP/M*                   Commodore offers a CP/M* add-on and access to
                          software through an easy-to-load cartridge.

  DEXTERITY TRAINING      Hand/Eye coordination and manual dexterity
                          are aided by several Commodore games...
                          including "Jupiter lander" and night driving
                          simulation.

  EDUCATION               While working with a computer is an education in
                          itself, The COMMODORE Educational Resource Book
                          contains general information on the educational
                          uses of computers. We also have a variety of
                          learning cartridges designed to teach everything
                          from music to math and art to astronomy.

  FOREIGN LANGUAGE        The COMMODORE 64 programmable character set
                          lets you replace the standard character set
                          with user defined foreign language characters.

  GRAPHICS AND ART        In addition to the Sprite Graphics mentioned
                          above, the COMMODORE 64 offers high-resolution,
                          multi-color graphics plotting, programmable

  -----------
  * CP/M is a Registered trademark of Digital Research, Inc.

  xiv   INTRODUCTION
~


                          characters, and combinations of all the
                          different graphics and character display modes.

  INSTRUMENT              Your COMMODORE 64 has a serial port, RS-232 port
  CONTROL                 and a user port for use with a variety of special
                          industrial applications. An IEEE/488 cartridge is
                          also available as an optional extra.

  JOURNALS AND            The COMMODORE 64 will soon offer an exceptional
  CREATIVE WRITING        wordprocessing system that matches or exceeds
                          the qualities and flexibilities of most "high-
                          priced" wordprocessors available. Of course you
                          can save the information on either a 1541 Disk
                          Drive or a Datassette TM recorder and have it
                          printed out using a VIC-PRINTER or PLOTTER.

  LIGHTPEN CONTROL        Applications requiring the use of a lightpen
                          can be performed by any lightpen that will fit
                          the COMMODORE 64 game port connector.

  MACHINE CODE            Your COMMODORE 64 PROGRAMMER'S REFERENCE GUIDE
  PROGRAMMING             includes a machine language section, as well as
                          a BASIC to machine code interface section.
                          There's even a bibliography available for more
                          in-depth study.

  PAYROLL & FORMS         The COMMODORE 64 can be programmed to handle
  PRINTOUT                a variety of entry-type business applications.
                          Upper/lower case letters combined with C64
                          "business form" graphics make it easy for you
                          to design forms which can then be printed on
                          your printer.

  PRINTING                The COMMODORE 64 interfaces with a variety of
                          dot matrix and letter quality printers as well
                          as plotters.

  RECIPES                 You can store your favorite recipes on your
                          COMMODORE 64 and its disk or cassette storage
                          unit, and end the need for messy recipe cards
                          that often get lost when you need them most.


                                                          INTRODUCTION   xv
~


  SIMULATIONS             Computer simulations let you conduct dangerous
                          or expensive experiments at minimum risk and
                          cost.

  SPORTS DATA             The Source (TM) and CompuServe (TM) both offer
                          sports information which you can get using
                          your COMMODORE 64 and a VICMODEM.

  STOCK QUOTES            With a VICMODEM and a subscription to any of the
                          appropriate network services, your COMMODORE 64
                          becomes your own private stock ticker.

    These are just a few of the many applications for you and your
  COMMODORE 64. As you can see, for work or play, at home, in school
  or the office, your COMMODORE 64 gives you a practical solution for
  just about any need.
    Commodore wants you to know that our support for users only STARTS
  with your purchase of a Commodore computer. That's why we've created
  two publications with Commodore information from around the world, and
  a "two-way" computer information network with valuable input for users
  in the U.S. and Canada from coast to coast.
    In addition, we wholeheartedly encourage and support the growth of
  Commodore Users' Clubs around the world. They are an excellent source
  of information for every Commodore computer owner from the beginner
  to the most advanced. The magazines and network, which are more fully
  described below, have the most up-to-date information about how to get
  involved with the Users' Club in your area.
    Finally, your local Commodore dealer is a useful source of Commodore
  support and information.

  POWER/PLAY
  The Home Computer Magazine

    When it comes to entertainment, learning at home and practical home
  applications, POWER/PLAY is THE prime source of information for Com-
  modore home users. Find out where your nearest user clubs are and
  what they're doing, learn about software, games, programming techniques,
  telecommunications, and new products. POWER/PLAY is your personal
  connection to other Commodore users, outside software and hardware
  developers, and to Commodore itself. Published quarterly. Only $10.00
  for a year of home computing excitement.


  xvi   INTRODUCTION
~


  COMMODORE
  The Microcomputer Magazine

    Widely read by educators, businessmen and students, as well as home
  computerists, COMMODORE Magazine is our main vehicle for sharing
  exclusive information on the more technical use of Commodore systems.
  Regular departments cover business, science and education, programming
  tips, "excerpts from a technical notebook," and many other features of
  interest to anyone who uses or is thinking about purchasing Commodore
  equipment for business, scientific or educational applications.
  COMMODORE is the ideal complement to POWER/PLAY. Published bimonthly.
  Subscription price: $15.00 per year.

  AND FOR EVEN MORE INFORMATION...
  ...DIAL UP OUR PAPERLESS USER MAGAZINE

  COMMODORE INFORMATION NETWORK

    The magazine of the future is here. To supplement and enhance your
  subscription to POWER/PLAY and COMMODORE magazines, the COMMODORE
  INFORMATION NETWORK - our "paperless magazine" - is available now over
  the telephone using your Commodore computer and modem.
    Join our computer club, get help with a computing problem, "talk" to
  other Commodore friends, or get up-to-the-minute information on new
  products, software and educational resources. Soon you will even be
  able to save yourself the trouble of typing in the program listings you
  find in POWER/PLAY or COMMODORE by downloading direct from the
  Information Network (a new user service planned for early 1983). The
  best part is that most of the answers are there before you even ask the
  questions. (How's that for service?)
    To call our electronic magazine you need only a modem and a sub-
  scription to CompuServe TM, one of the nation's largest telecommunica-
  tions networks. (To make it easy for you Commodore includes a FREE year's
  subscription to CompuServe TM in each VICMODEM package.) Just dial your
  local number for the CompuServe (TM) data bank and connect your phone to
  the modem. When the CompuServe (TM) video text appears on your screen
  type G CBM on your computer keyboard. When the COMMODORE INFORMATION
  NETWORK'S table of contents, or "menu," appears on your screen choose
  from one of our sixteen departments, make yourself comfortable, and enjoy
  the paperless magazine other magazines are writing about.



                                                        INTRODUCTION   xvii
~


    For more information, visit your Commodore dealer or contact Com-
  puserve(TM) customer service at 800-848-8990 (in Ohio, 614-457-8600).

                        COMMODORE INFORMATION NETWORK
  +-----------------------------------+-----------------------------------+
  |  Main Menu Description            |  Commodore Dealers                |
  |  Direct Access Codes              |  Educational Resources            |
  |  Special Commands                 |  User Groups                      |
  |  User Questions                   |  Descriptions                     |
  |  Public Bulletin Board            |  Questions and Answers            |
  |  Magazines and Newsletters        |  Software Tips                    |
  |  Products Announced               |  Technical Tips                   |
  |  Commodore News Direct            |  Directory Descriptions           |
  +-----------------------------------+-----------------------------------+





























  xviii   INTRODUCTION
~










                                                 CHAPTER 1




                                                     BASIC
                                               PROGRAMMING
                                                     RULES



                           o Introduction
                           o Screen Display Codes (BASIC
                             Character Set)
                           o Programming Numbers and
                             variables
                           o Expressions and Operators
                           o Programming Techniques

















                                      1
~


  INTRODUCTION

    This chapter talks about how BASIC stores and manipulates data. The
  topics include:

    1) A brief mention of the operating system components and functions
       as well as the character set used in the Commodore 64.
    2) The formation of constants and variables. What types of variables
       there are. And how constants and variables are stored in memory.
    3) The rules for arithmetic calculations, relationship tests, string
       handling, and logical operations. Also included are the rules for
       forming expressions, and the data conversions necessary when you're
       using BASIC with mixed data types.

  SCREEN DISPLAY CODES (BASIC CHARACTER SET)

  THE OPERATING SYSTEM (OS)

    The Operating System is contained in the Read Only Memory (ROM) chips
  and is a combination of three separate, but interrelated, program
  modules.

    1) The BASIC Interpreter
    2) The KERNAL
    3) The Screen Editor

    1) The BASIC Interpreter is responsible for analysing BASIC statement
       syntax and for performing the required calculations and/or data
       manipulation. The BASIC Interpreter has a vocabulary of 65
       "keywords" which have special meanings. The upper and lower case
       alphabet and the digits 0-9 are used to make both keywords and
       variable names. Certain punctuation characters and special symbols
       also have meanings for the Interpreter. Table 1-1 lists the special
       characters and their uses.
    2) The KERNAL handles most of the interrupt level processing in the
       system (for details on interrupt level processing, see Chapter 5).
       The KERNAL also does the actual input and output of data.
    3) The Screen Editor controls the output to the video screen (tele-
       vision set) and the editing of BASIC program text. In addition, the
       Screen Editor intercepts keyboard input so that it can decide
       whether the characters put in should be acted upon immediately, or
       passed on to the BASIC Interpreter.

