# byRiclianll - Documentation for the CBM DOS Block-Free command (B-F). Describes purpose (deallocates a sector in the BAM by setting its bit high on track 18 sector 0), provides syntax and alternate syntax (PRINT#file#, "B-F"; drive#; track; sector or "B-F:"), an example (PRINT#15, "B-F";0;1;7), and defines parameters (file#, drive#, track range 1-35, sector range 0.. per-track). Introduces the sample program that follows to deallocate every sector on a diskette.

5.9  Block-Free  Command  (B-F) 

The  block-free  command  deallocates  (frees)  a  sector  in  the  BAM.  A  sector  is  deallocated 
by  setting  its  associated  bit  high  (1)  on  track  18,  sector  0.  The  format  of  a  block-free 
command  is: 

SYNTAX: 

PRINT#  +ile»,  "B-F";   drive#;   track;  sector 
ALTERNATE: 

PRINT#  +ile#,  "B-F:";   drive#;   track;  sector 

EXAMPLE: 

PRINT»15, "B-F" ; O; 1 ; 7 


94 


where 


file# 


the  logical  file  number  of  the  command  channel 


drive# 


0 


track 


1  to  35 


sector 


0  to  the  range  for  a  given  track 


The  following  program  deallocates  every  sector  on  a  diskette.  Run  this  program  on  a 
test  diskette. 


---
Additional information can be found by searching:
- "block_free_example_program" which expands on the sample BASIC program that deallocates every sector (follows this description)
