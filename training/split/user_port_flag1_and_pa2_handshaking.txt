# COMMODORE 64 - Details on the special USER PORT lines FLAG1 (negative-edge sensitive input) and PA2 (bit 2 of PORT A). Explains that FLAG1 is well suited for handshaking and can generate an interrupt request on any negative transition if the FLAG interrupt is enabled (otherwise it may be polled). PA2 is a normal port bit (bit 2 of PORT A) located at 56576 ($DD00) with its data direction register at 56578 ($DD02). Reference to 6526 CIA chip specifications in Appendix M is provided.

    The two other lines, FLAG1 and PA2 are different from the rest of the
  USER PORT. These two lines are mainly for HANDSHAKING, and are programmed
  differently from port B.
    Handshaking is needed when two devices communicate. Since one device
  may run at a different speed than another device it is necessary to give
  the devices some way of knowing what the other device is doing. Even when
  the devices are operating at the same speed, handshaking is necessary to
  let the other know when data is to be sent, and if it has been received.
  The FLAG1 line has special characteristics which make it well suited for
  handshaking.
    FLAG1 is a negative edge sensitive input which can be used as a general
  purpose interrupt input. Any negative transition on the FLAG line will
  set the FLAG interrupt bit. If the FLAG interrupt is enabled, this will



                                                   INPUT/OUTPUT GUIDE   361
~


  cause an INTERRUPT REQUEST. If the FLAG bit is not enabled, it can be
  polled from the interrupt register under program control.
    PA2 is bit 2 of PORT A of the CIA. It is controlled like any other bit
  in the port. The port is located at 56576 ($DD00). The data direction
  register is located at 56578 ($DD02.)
    FOR MORE INFORMATION ON THE 6526 SEE THE CHIP SPECIFICATIONS IN
  APPENDIX M.



---
Additional information can be found by searching:
- "user_port_data_direction_register_ddr_usage" which expands on DDR addresses and how PA2/flag interact with port configuration
- "user_port_connector_and_pin_descriptions" which expands on physical pin locations for FLAG lines and PA2
