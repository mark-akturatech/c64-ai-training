# - Fully Commented Commodore 64 ROM Disassembly (English) - Routine that tests whether the cursor should move to the next line when at end-of-line. Compares with a target column, does looped ADC #$28 tests, and if the cursor is at the end-of-line increments the cursor row unless already at the bottom of the screen. Returns to caller after updating the cursor row as necessary.

.,E8B0 C6 D6    DEC $D6         else decrement the cursor row
.,E8B2 60       RTS             

                                *** test for line increment
                                
                                if at end of the line, but not at end of the last line, increment the cursor row
.,E8B3 A2 02    LDX #$02        set the count
.,E8B5 A9 27    LDA #$27        set the column
.,E8B7 C5 D3    CMP $D3         compare the column with the cursor column
.,E8B9 F0 07    BEQ $E8C2       if at end of line test and possibly increment cursor row
.,E8BB 18       CLC             else clear carry for add
.,E8BC 69 28    ADC #$28        increment to the next line
.,E8BE CA       DEX             decrement the loop count
.,E8BF D0 F6    BNE $E8B7       loop if more to test
.,E8C1 60       RTS             
                                cursor is at end of line
.,E8C2 A6 D6    LDX $D6         get the cursor row
.,E8C4 E0 19    CPX #$19        compare it with the end of the screen
.,E8C6 F0 02    BEQ $E8CA       if at the end of screen just exit
.,E8C8 E6 D6    INC $D6         else increment the cursor row
.,E8CA 60       RTS             

---
Additional information can be found by searching:
- "test_for_line_decrement" which expands on inverse test for moving between lines when cursor moves left
- "newline_and_carriage_return_handling" which expands on newline logic that may call the scroll routine when incrementing past the bottom
