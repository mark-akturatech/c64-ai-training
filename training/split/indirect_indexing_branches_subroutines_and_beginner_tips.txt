# COMMODORE 64 - Explains indirect-indexed addressing with an example (LDA ($02,X)), includes a NOTE about relative usefulness of indirect addressing methods; 'BRANCHES AND TESTING' overview (status flags, BEQ/BNE, BNE loop examples), index register increment/decrement instructions (INX/DEX/INY/DEY), comparisons (CPX/CPY) and branch range/offset limits including assembler (64MON) behavior; 'SUBROUTINES' section introducing JSR, JMP and the KERNAL print-character routine at $FFD2 with example (printing 'Hi'); example program to print the alphabet using TXA, JSR $FFD2, INX, CPX, BNE; beginner tips on studying other 6510/6502 code, using utilities and the KERNAL, advantages of machine language, and advice on approaching large programming tasks with decomposition (block diagrams, module breakdown, example roulette game flow).


    One of the best ways to learn machine language is to look at other
  peoples' machine language programs. These are published all the time in
  magazines and newsletters. Look at them even if the article is for a
  different computer, which also uses the 6510 (or 6502) microprocessor.
  You should make sure that you thoroughly understand the code that you
  look at. This will require perseveres I ce, especially when you see a new
  technique that you have never come across before. This can be infuriat-
  ing, but if patience prevails, you will be the victor.
    Having looked at other machine language programs, you MUST write your
  own. These may be utilities for your BASIC programs, or they may be an
  all machine language program.







                                            BASIC TO MACHINE LANGUAGE   229
~


    You should also use the utilities that are available, either IN your
  computer, or in a program, that aid you in writing, editing, or tracking
  down errors in a machine language program. An example would be the
  KERNAL, which allows you to check the keyboard, print text, control
  peripheral devices like disk drives, printers, modems, etc., manage
  memory and the screen. It is extremely powerful and it is advised
  strongly that it is used (refer to KERNAL section, Page 268).
    Advantages of writing programs in machine language:

    1. Speed - Machine language is hundreds, and in some cases thousands of
       times faster than a high level language such as BASIC.

    2. Tightness - A machine language program can be made totally
       "watertight," i.e., the user can be made to do ONLY what the program
        allows, and no more. With a high level language, you are relying on
        the user not "crashing" the BASIC interpreter by entering, for
        example, a zero which later causes a:


  ?DIVISION BY ZERO ERROR IN LINE 830

  READY.


  In essence, the computer can only be maximized by the machine language
  programmer.


  APPROACHING A LARGE TASK

    When approaching a large task in machine language, a certain amount of
  subconscious thought has usually taken place. You think about how certain
  processes are carried out in machine language. When the task is started,
  it is usually a good idea to write it out on paper. Use block diagrams of
  memory usage, functional modules of code required, and a program flow.
  Let's say that you wanted to write a roulette game in machine language.
  You could outline it something like this:






  230   BASIC TO MACHINE LANGUAGE
~


    o Display title
    o Ask if player requires instructions
    o YES - display them-Go to START
    o NO - Go to START
    o START Initialize everything
    o MAIN display roulette table
    o Take in bets
    o Spin wheel
    o Slow wheel to stop
    o Check bets with result
    o Inform player
    o Player any money left?
    o YES - Go to MAIN
    o NO - Inform user!, and go to START


    This is the main outline. As each module is approached, you can break
  it down further. If you look at a large indigestable problem as something
  that can be broken down into small enough pieces to be eaten, then you'll
  be able to approach something that seems impossible, and have it all fall
  into place.
    This process only improves with practice, so KEEP TRYING.









---
Additional information can be found by searching:
- "mcs6510_instruction_set_part1" which expands on instruction names and opcodes referenced for branching and register operations
- "kernal_routines_overview_and_list" which expands on KERNAL subroutine table and detailed descriptions (CALL addresses like $FFD2)
