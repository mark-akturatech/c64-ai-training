# - Commented Commodore 64 KERNAL Disassembly (Magnus Nyman) - Handle moving the cursor to the end of the previous line (used by DEL and cursor-left). Tests top-of-screen, adjusts TBLX ($D6) and PNTR ($D3) and calls the routine to set screen pointers to the new line start. Cleans up saved registers on return. (Code: $E701..$E715).

                                *** BACK ON TO PREVIOUS LINE
                                This routine is called when using <DEL> and <cursor LEFT>.
                                The line number is tested, and if the cursor is already on
                                the top line, then no further action is taken. The screen
                                pointers are set up and the cursor placed at the end of
                                the previous line.
.,E701 A6 D6    LDX $D6         test TBLX, physical line number
.,E703 D0 06    BNE $E70B       if not on top line, branch
.,E705 86 D3    STX $D3         set PNTR to zero as well
.,E707 68       PLA
.,E708 68       PLA
.,E709 D0 9D    BNE $E6A8       always jump
.,E70B CA       DEX             decrement TBLX
.,E70C 86 D6    STX $D6         and store
.,E70E 20 6C E5 JSR $E56C       set screen pointers
.,E711 A4 D5    LDY $D5         get LNMX
.,E713 84 D3    STY $D3         and store in PNTR
.,E715 60       RTS


---
Additional information can be found by searching:
- "retreat_cursor" which expands on adjusts line/table pointers related to retreating across logical/physical lines
- "output_to_screen_unshifted_and_control_codes" which expands on invoked by DEL and cursor-left handling in the output path
