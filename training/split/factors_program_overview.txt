# MACHINE - FACTORS program (PET/CBM and V64 variants): finds factors of numbers up to 19 digits. Highlights: decimal input handling for up to 19 digits, division with remainder to find factors, binary-to-decimal conversion for output, and a '30-counter' divisor-selection technique (try only multiples of 30 plus 1,7,11,17,19,23,29 after testing 2,3,5). The machine code is relocated by BASIC to $1300. Note for students: disassembly hints and utilities.


  FACTORS          - for PET/CBM
  FACTORS V64      - for VIC-20, Commodore 64, and PLUS/4

This program finds factors of numbers up to nineteen digits long.  This shows
a powerful feature of machine language as opposed to BASIC:  the size of
numbers is not limited by the language.

The program contains a number of useful techniques worth studying.  First, it
allows decimal input of a number up to 19 digits (a 64-bit or 8-byte binary
number).  Second, to find factors it performs division with remainder.
Finally, to print results, it must convert binary-to-decimal, using the same
decimal mode technique as in CROSS REF.

The program does not try all divisors.  After trying a few initial values (2,
3, and 5), it switches to a "30-counter" technique, trying only multiples of
30 plus 1, 7, 11, 17, 19, 23, and 29.

The machine language program is relocated by BASIC so that it starts at
hexadecimal 1300 regardless of where it was originally loaded.  This was
originally done to allow for the VIC-20's variable start-of-BASIC, which
rambles according to the amount of extra memory fitted.  It turns out to be
useful for studying to have the program in a fixed location; so the PET/CBM
version was also set up in this way.

Students wishing to disassemble FACTORS will find the following information
useful:

[<cheap plug>for a great disassembling experience of C64 programs on the PC,
 try WFDis, available from my web page!</cheap plug> ;)  -wf]


---
Additional information can be found by searching:
- "factors_variables" which expands on variables used by FACTORS (addresses like $0349..$0379)
- "factors_program_map" which expands on program entry points and subroutines (addresses $1300..$1565)
