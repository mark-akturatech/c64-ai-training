# ********* - Table 5.3 — Directory format for Track 18, Sector 1 and the structure of a single directory entry. Covers the sector layout: bytes 0–1 (pointer to next directory block), eight file-entry slots per sector (bytes 2–31, 34–63, 66–95, 98–127, 130–159, 162–191, 194–223, 226–255). Describes the single-directory-entry fields: byte 0 = file type OR'ed with $80 for properly closed files (type codes: 0=DEL,1=SEQ,2=PRG,3=USR,4=REL), bytes 1–2 = track and sector of first data block, file name padded with shifted spaces, relative-file specific fields (first side-sector pointer and record size), unused bytes, replacement-file pointer for OPEN@, and number-of-blocks in file (low and high bytes).



                 Table 5.3: DIRECTORY FORMAT
 +---------------------------------------------------------+
 | Track 18, Sector 1 for 1540/1541                        |
 +---------+-----------------------------------------------+
 | BYTE    |               DEFINITION                      |
 +---------+-----------------------------------------------+
 | 0,1     | Track and sector of next directory block.     |
 +---------+-----------------------------------------------+
 | 2-31    | *File entry 1                                 |
 +---------+-----------------------------------------------+
 | 34-63   | *File entry 2                                 |
 +---------+-----------------------------------------------+
 | 66-95   | *File entry 3                                 |
 +---------+-----------------------------------------------+
 | 98-127  | *File entry 4                                 |
 +---------+-----------------------------------------------+
 | 130-159 | *File entry 5                                 |
 +---------+-----------------------------------------------+
 | 162-191 | *File entry 6                                 |
 +---------+-----------------------------------------------+
 | 194-223 | *File entry 7                                 |
 +---------+-----------------------------------------------+
 | 226-255 | *File entry 8                                 |
 +---------+-----------------------------------------------+

*STRUCTURE OF SINGLE DIRECTORY ENTRY

 +---------+----------+--------------------------------------------+
 | BYTE    | CONTENTS |              DEFINITION                    |
 +---------+----------+--------------------------------------------+
 | 0       | 128+type | File type OR'ed with $80 (hexadecimal) to  |
 |         |          | indicate properly closed file.             |
 |         |          | TYPES: 0 = DELeted                         |
 |         |          |        1 = SEQential                       |
 |         |          |        2 = PROGram                         |
 |         |          |        3 = USER                            |
 |         |          |        4 = RELative                        |
 +---------+----------+--------------------------------------------+
 | 1,2     |          | Track and sector of 1st data block.        |
 +---------+----------+--------------------------------------------+
 |         |          | File name padded with shifted spaces.      |
 +---------+----------+--------------------------------------------+
 |         |          | Relative file only: track and sector for   |
 |         |          | first side sector block.                   |
 +---------+----------+--------------------------------------------+
 |         |          | Relative file only: Record size.           |
 +---------+----------+--------------------------------------------+
 |         |          | Unused.                                    |
 +---------+----------+--------------------------------------------+
 |         |          | Track and sector of replacement file when  |
 |         |          | OPEN@ is in effect.                        |
 +---------+----------+--------------------------------------------+
 |         |          | Number of blocks in file: low byte, high   |
 |         |          | byte.                                      |
 +---------+----------+--------------------------------------------+


---
Additional information can be found by searching:
- "bam_format_track18_sector0_1541" which expands on BAM indicates free blocks referenced by directory entries
- "sequential_file_format_1541" which expands on SEQ file type described here uses the sequential data block format
- "program_file_format_1541" which expands on PRG file type described here uses the program-block format
