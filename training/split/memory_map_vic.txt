# The MOS 6567/6569 video controller (VIC-II) and its application in the Commodore 64 - Memory map as seen by the VIC: VIC has 14 address lines (16KB), selects one of four 16KB banks via CIA port A bits. Char ROM is mapped at VIC addresses $1000-$1FFF (visible in bank 0 and 2 from VIC view). Color RAM is accessed via the VIC's upper 4 data lines and is addressed by VIC address bits A0-A9 (lower 10 bits) â€” thus available at all banks/addresses.

2.4.2 Memory map as seen by the VIC
-----------------------------------

The VIC has only 14 address lines, so it can only address 16KB of memory.
It can access the complete 64KB main memory all the same because the 2
missing address bits are provided by one of the CIA I/O chips (they are the
inverted bits 0 and 1 of port A of CIA 2). With that you can select one of
4 16KB banks for the VIC at a time.

The (extended) memory map as seen by the VIC looks like this:


 $ffff +----------+   --
       |          |
       |          |
       |          |
       |   RAM    | Bank 3
       |          |
       |          |
       |          |
 $c000 +----------+   --
       |          |
       |   RAM    |
       |          |
 $a000 +----------+ Bank 2
       | Char ROM |
 $9000 +----------+
       |   RAM    |
 $8000 +----------+   --
       |          |
       |          |
       |          |
       |   RAM    | Bank 1
       |          |
       |          |
       |          |
 $4000 +----------+   --
       |          |
       |   RAM    |
       |          |
 $2000 +----------+ Bank 0
       | Char ROM |
 $1000 +----------+
       |   RAM    |
 $0000 +----------+   --


The Char ROM is mapped in at the VIC addresses $1000-$1fff in banks 0 and
2 (it appears at $9000 in the above diagram, but remember that the VIC
doesn't know about the two address bits generated by the CIA. From the
VIC's point of view, the Char ROM is at $1000-$1fff also in bank 2).

The attentive reader will already have noticed that the Color RAM doesn't
appear anywhere. But as explained earlier, the VIC has a 12 bit data bus of
which the upper 4 bits are connected with the Color RAM. Generally
speaking, the sole purpose of the upper 4 bits of the VIC data bus is to
read from the Color RAM. The Color RAM is addressed by the lower 10 bits of
the VIC address bus and is therefore available in all banks at all
addresses.


---
Additional information can be found by searching:
- "memory_map_cpu" which expands on CPU vs VIC differing views of memory layout
- "vic_registers_table" which expands on VM/CB bits in $D018 that set VIC memory pointers
