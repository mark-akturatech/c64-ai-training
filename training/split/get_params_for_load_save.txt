# - Fully Commented Commodore 64 ROM Disassembly (English) - Parser used by LOAD/SAVE/VERIFY to extract device number, command, and filename: clear filename buffer, set default device (cassette) and default command, set logical and address registers via KERNAL ($FFBA), check for end-of-token or ':' to exit early, invoke filename setter (JSR $E257), scan for additional bytes and finally return with registers arranged for the KERNAL save/load calls. (Covers clearing filename ($FFBD), defaults, repeated calls to $FFBA and the calls to E206/E200/E257 helpers.)

                                *** get parameters for LOAD/SAVE
.,E1D4 A9 00    LDA #$00        clear file name length
.,E1D6 20 BD FF JSR $FFBD       clear the filename
.,E1D9 A2 01    LDX #$01        set default device number, cassette
.,E1DB A0 00    LDY #$00        set default command
.,E1DD 20 BA FF JSR $FFBA       set logical, first and second addresses
.,E1E0 20 06 E2 JSR $E206       exit function if [EOT] or ":"
.,E1E3 20 57 E2 JSR $E257       set filename
.,E1E6 20 06 E2 JSR $E206       exit function if [EOT] or ":"
.,E1E9 20 00 E2 JSR $E200       scan and get byte, else do syntax error then warm start
.,E1EC A0 00    LDY #$00        clear command
.,E1EE 86 49    STX $49         save device number
.,E1F0 20 BA FF JSR $FFBA       set logical, first and second addresses
.,E1F3 20 06 E2 JSR $E206       exit function if [EOT] or ":"
.,E1F6 20 00 E2 JSR $E200       scan and get byte, else do syntax error then warm start
.,E1F9 8A       TXA             copy command to A
.,E1FA A8       TAY             copy command to Y
.,E1FB A6 49    LDX $49         get device number back
.,E1FD 4C BA FF JMP $FFBA       set logical, first and second addresses and return


---
Additional information can be found by searching:
- "scan_and_get_byte" which expands on used to scan/consume a following byte or produce syntax error
- "set_filename_routine" which expands on invokes the routine that evaluates and stores the filename string for KERNAL use
