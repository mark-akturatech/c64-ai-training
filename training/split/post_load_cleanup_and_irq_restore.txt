# Analyzing C64 tape loaders - Actions taken immediately after the load finishes. Covers: reading the closing checksum byte (JSR $03E7); INY and STY $C0 to set a motor-control flag; restoring interrupts and processor state (CLI, CLC); clearing $02A0; JSR $FC93 to restore the default IRQ routine (turn screen on and stop cassette motor); and JSR $E453 which copies a table of BASIC vectors to RAM (prevents the turbo loader from re-executing if control returns to BASIC).

--End of Load Loop-----------------

03A8  20  E7  03  JSR $03E7  ; Reads a closing byte (Checksum)

03AB  C8          INY
03AC  84  C0      STY $C0    ; Allows control of the motor
                             ; via software
03AE  58          CLI
03AF  18          CLC

03B0  A9  00      LDA #$00
03B2  8D  A0  02  STA $02A0

03B5  20  93  FC  JSR $FC93  ; Restores the Default IRQ
                             ; Routine. This subroutine
                             ; is used to turn the screen
                             ; back on and stop the cassette
                             ; motor.

03B8  20  53  E4  JSR $E453  ; Calls this subroutine to copy
                             ; the table of vectors to
                             ; important BASIC routines
                             ; to RAM, starting at location
                             ; $300. This prevents the Turbo
                             ; loader is executed again if
                             ; control is given back to the
                             ; BASIC interpreter.


---
Additional information can be found by searching:
- "checksum_validation_autostart_and_relink" which expands on After restoring IRQ and copying vectors the code checks checksum and decides autostart behavior
- "read_byte_subroutine" which expands on The closing checksum byte was read using the Read Byte subroutine at $03E7
