# Analyzing C64 tape loaders - Appendix B: CIA #2 overview ($DD00-$DD0F). Notes CIA#2 is functionally identical to CIA#1 but its interrupt line is wired to the 6510 NMI (non-maskable) instead of IRQ, so NMIs cannot be masked by SEI; they must be disabled via CIA mask. Advises using the NMI vector when setting up routines using CIA#2 interrupts.

==== Appendix B (CIA 2) ====

Locations 56576-56591 ($DD00-$DD0F) are used to address the Complex Interface Adapter chip #2 (CIA #2). Since the chip itself is identical to CIA #1, which is addressed at 56320 ($DC00), the discussion here will be limited to the use which the 64 makes of this particular chip. For more general information on the chip registers, please see the corresponding entries for CIA #1.

A significant (for our purposes) difference between CIA chips #1 and #2 is that the interrupt line of CIA #1 is wired to the 6510 IRQ line, while that of CIA #2 is wired to the NMI line. This means that interrupts from this chip cannot be masked by setting the Interrupt disable flag (SEI). They can be disabled from CIA's Mask Register, though. Be sure to use the NMI vector when setting up routines to be driven by interrupts generated by this chip.




---
Additional information can be found by searching:
- "nmi_isr" which expands on NMI handler used in the IRQ-based loader example
- "irq_loader_setup_part2_disassembly" which expands on Example configuration of CIA#2 to generate an NMI
