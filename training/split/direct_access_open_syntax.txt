# byRiclianll - How to open a direct-access data channel: SYNTAX: OPEN file#, device#, channel#, "#" (e.g., OPEN 2,8,2,"#" or OPEN 1,8,14,"#"). file# is logical file number (1-127); device# is 8; channel# is secondary address on 1541 (2-14). Explains that opening establishes communication between C64 and 1541; channel number used in direct-access commands, while logical file number is used for GET#/PRINT# operations.

In  order  to  use  the  commands  mentioned  above  you  will  need  to  learn  how  to  open  a 
direct-access  data  channel.  The  format  of  a  direct-access  OPEN  statement  is: 

SYNTAX:     OPEN  â– file#,   device#,   channel#,  "#" 

EXAMPLE:   OPEN  2,8,2, "#" 
OPEN  1,8,14,"#" 

where 

file#  =  the  logical  file  number  (1  to  127) 

device*        =  8 

channel*       =  the  secondary  address  of  the  associated  open  statement  (2  to  14) 


Opening  a  direct-access  data  channel  establishes  a  communication  link  between  the  C64 
and  the  1541.  In  the  first  example,  we  opened  logical  file  number  2  on  the  C64  side 
to  device  number  8  with  a  secondary  address  of  2  (channel  number  2)  on  the  1541  side. 
The  only  time  a  channel  number  is  ever  referenced  is  as  part  of  a  direct-access  com- 
mand, e.g.,  a  block-read  command  (Ul).  Data  is  always  read  from  disk  (GET#  file#, 
INPUT#  file#,)  or  written  to  disk  (PRINT*  file#,)  by  way  of  the  logical  file  number  of 
the  direct-access  OPEN  statement  NOT  the  channel  number.  The  logical  file  number 
and  the  channel  number  do  not  have  to  match  as  they  do  in  our  first  OPEN  example. 
They  are  two  separate  entities.  The  logical  file  number  which  resides  on  the  C64  side 
passes  read  or  write  commands  to  the  channel  number  on  the  1541  side.  Any  similarity 


72 


between  the  logical  file  number  and  the  channel  number  is  for  mnemonic  purposes  only. 
The  second  example  is  a  perfectly  legal  direct-access  OPEN  statement.  In  this  instance, 
we  opened  logical  file  number  1  (GET#1,  PRINT#1,)  to  device  number  8  with  a  second- 
ary address  of  14  (channel  number  14)  on  the  1541  side.  Whether  or  not  you  use  mnemonic 
OPEN  statements  is  strictly  a  matter  of  personal  preference. 


---
Additional information can be found by searching:
- "direct_access_command_list" which expands on use channel number in direct-access commands such as Ul, U2, B-P
