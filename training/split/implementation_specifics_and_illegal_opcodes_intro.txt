# 6502 Instruction Set - Implementation-specific notes: NMOS vs CMOS; introduction to undocumented/illegal opcodes (NMOS) caution; list of common undocumented mnemonics and synonyms as used by ACME/DASM (ALR/ASR, ANC, ANE/XAA, ARR, DCP/DCM, ISC/ISB/INS, LAS/LAR, LAX, LXA, RLA, RRA, SAX/AXS/AAX, SBX/AXS/SAX, SHA/AHX/AXA, SHX, SHY, SLO, SRE (LSE), TAS, USBC, NOP variants, JAM/KIL/HLT). Warning that these apply to NMOS only; CMOS either uses these opcodes for extensions or treats them as NOP.

                     NOPs (including DOP, TOP)
                     JAM (KIL, HLT)
                 "Illegal" Opcodes in Details
                 Legend to markers used in the instruction details:
                  *   add 1 to cycles if page boundary is crossed
                  †   unstable
                  ††  highly unstable
                 ALR (ASR)
                                                                6502 Instruction Set
                      AND oper + LSR
                      A AND oper, 0 -> [76543210] -> C
                                                         N Z C I D V
                                                         + + + - - -
                      addressing     assembler       opc bytes cycles
                      immediate      ALR #oper        4B   2      2
                 ANC
                      AND oper + set C as ASL
                      A AND oper, bit(7) -> C
                                                         N Z C I D V
                                                         + + + - - -
                      addressing     assembler       opc bytes cycles
                      immediate      ANC #oper        0B   2      2
                 ANC (ANC2)
                      AND oper + set C as ROL
                      effectively the same as instr. 0B
                      A AND oper, bit(7) -> C
                                                         N Z C I D V
                                                         + + + - - -
                      addressing     assembler       opc bytes cycles
                      immediate      ANC #oper        2B   2      2
                 ANE (XAA)
                      * OR X + AND oper
                      Highly unstable, do not use.
                      A base value in A is determined based on the contets of A
                      and a constant, which may be typically $00, $ff, $ee, etc.
                      The value of this constant depends on temerature, the chip
                      series, and maybe other factors, as well.
                      In order to eliminate these uncertaincies from the
                      equation, use either 0 as the operand or a value of $FF in
                      the accumulator.
                      (A OR CONST) AND X AND oper -> A
                                                         N Z C I D V
                                                         + + - - - -
                      addressing     assembler       opc bytes cycles
                      immediate      ANE #oper        8B   2      2   ††
                 ARR
                      AND oper + ROR
                                                                6502 Instruction Set
                      This operation involves the adder:
                      V-flag is set according to (A AND oper) + oper
                      The carry is not set, but bit 7 (sign) is exchanged with
                      the carry
                      A AND oper, C -> [76543210] -> C
                                                         N Z C I D V
                                                         + + + - - +
                      addressing     assembler       opc bytes cycles
                      immediate      ARR #oper        6B   2      2
                 DCP (DCM)
                      DEC oper + CMP oper
                      M - 1 -> M, A - M

---
Additional information can be found by searching:
- "illegal_opcodes_in_detail" which expands on detailed descriptions of many undocumented opcodes
- "revA_ror_bug" which expands on Rev A hardware quirk affecting ROR
