# ca65 Users Guide - Overview and declaration examples for .STRUCT and .UNION. Explains that named members have constant offsets from the structure start and members have sizes accessible with .SIZEOF. Examples: .struct Point with xcoord/.word and ycoord/.word, .union Entry with index/.word and ptr/.addr. Anonymous structs/unions place members in the current scope. Nested struct example (Circle containing Point) and resulting size calculation.

15. Structs and unions
15.1 Structs and unions Overview
Structs and unions are special forms of scopes. They are, to some degree, comparable to their C counterparts. Both have a list of members. Each member allocates storage, and optionally may have a name.

Each named member has a constant value equal to the storage offset from the beginning of the structure. In the case of a union, all members are placed at the same offset, typically 0.

Each named member also has a storage size which can be accessed with the .SIZEOF operator. The struct or union itself also has a .SIZEOF indicating its total storage size.

15.2 Declaration
Here is an example for a very simple struct with two members and a total size of 4 bytes:

      .struct Point
              xcoord  .word
              ycoord  .word
      .endstruct
A union shares the total space between all its members; its size is the same as that of the largest member. The offset of all members relative to the union is zero.

      .union  Entry
              index   .word
              ptr     .addr
      .endunion
A struct or union may not necessarily have a name. If it is anonymous, no local scope is opened; the identifiers used to name the members are placed into the current scope instead.

Storage allocators may contain a multiplier. A struct may also contain members and definitions of local structs/unions. Example:


      .struct Circle
              .struct Point
                      .word   2         ; Allocate two words
              .endstruct
              Radius  .word
      .endstruct
In this example the size of the Circle struct is 6 (three words).

---
Additional information can be found by searching:
- "struct_storage_allocators" which expands on storage allocator keywords used inside struct/union member declarations
- "struct_tag_keyword" which expands on reserving space for structs via .TAG
