# byRiclianll - Discussion of UJ and UI- USER commands: UJ is intended as a 1541 warm reset (like SYS 64738 on the C64) but in practice hangs the 1541. Gives recovery advice (press RUN/STOP + RESTORE) and supplies a one-liner (OPEN 15,8,15,"UJ":CLOSE15) while recommending using the U: form instead of UJ. Notes that UI- (setting 1541 to VIC-20 speed) also causes issues.

UJ  and  Ul- 

Commodore  has  traditionally  had  a  warm  reset  buried  somewhere  in  ROM  on  every 
piece  of  hardware  they  have  manufactured  to  date.  The  UJ  command  is  to  the  1541  what 
a  SYS  64738  is  to  the  C64,  a  warm  reset.  Or  rather,  that  is  what  it's  supposed  to  be. 
The  issuance  of  a  UJ  command  is  supposed  to  reset  the  1541.  Instead,  it  hangs  the  1541. 


100 


Press  the  RUN/STOP  key  and  RESTORE  key  in  tandem  to  regain  control  of  the  C64 
after  typing  in  this  one  liner  in  immediate  mode. 


OPEN   15,8, 15, "UJ"    :  CL0SE15 

Use  U:  in  place  of  UJ. 


The  same  thing  is  true  for  the  UI-  command  although  Commodore  can't  really  be  held 
responsible  here.  The  UI-  command  was  implemented  to  set  the  1541  to  VIC-20  speed, 
not  to  take  the  C64  out  to  lunch. 

---
Additional information can be found by searching:
- "effect_of_block_write_on_subsequent_block_read" which expands on previous low-level I/O discussion and examples
- "user_commands_intro_and_u3_example_start" which expands on next: introduction to the USER commands and the U3 example program
