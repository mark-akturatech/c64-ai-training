# The MOS 6567/6569 video controller (VIC-II) and its application in the Commodore 64 - Defines two internal graphics states: display state (c- and g-accesses occur, data interpreted per mode) and idle state (only g-accesses to $3FFF or $39FF depending on ECM; video matrix treated as zeroes). Transitions: idle->display occurs on Bad Line Condition; display->idle occurs on cycle 58 if RC=7 and no Bad Line. Explains observable behavior and clarifies difference between 'idle access' and g-access while in idle state.

3.7.1. Idle state/display state
-------------------------------

The text/bitmap display logic in the VIC is in one of two states at any
time: The idle state and the display state.

 - In display state, c- and g-accesses take place, the addresses and
   interpretation of the data depend on the selected display mode.

 - In idle state, only g-accesses occur. The access is always to address
   $3fff ($39ff when the ECM bit in register $d016 is set). The graphics
   are displayed by the sequencer exactly as in display state, but with
   the video matrix data treated as "0" bits.

The transition from idle to display state occurs as soon as there is a Bad
Line Condition (see section 3.5.). The transition from display to idle
state occurs in cycle 58 of a line if the RC (see next section) contains
the value 7 and there is no Bad Line Condition.

As long as register $d011 is not modified in the middle of a frame, the
display logic is in display state within the display window and in idle
state outside of it. If you set a YSCROLL other than 3 in a 25 line display
window and store a value not equal to zero in $3fff you can see the stripes
generated by the sequencer in idle state on the upper or lower side of the
window.

In [4], idle accesses as well as g-accesses in idle state are called "idle
bus cycle". But the two phenomena are not the same. The accesses marked
with "+" in the diagrams of [4] are normal g-accesses. In this article, the
term "idle access" is only used for the accesses marked with "i" in the
diagrams in section 3.6.3., and not for the g-accesses during idle state.


---
Additional information can be found by searching:
- "bad_lines" which expands on Bad Lines trigger transition to display state
- "graphics_modes_overview" which expands on g-access interpretation varies by mode
