# byRiclianll - Overview and line-range summary for the 'EDIT DISK ID' BASIC program. Lists what key BASIC line ranges do (opening logical file 2, querying DOS version, padding name, resetting channel pointer, overwriting buffer, writing buffer to track/sector, updating the BAM). Also shows alternate formats of the block-write (U2) command referenced earlier in the listing.


Line  Range 

Description 

280 

Opens  logical  file  number  2  (GET#2,  PRINT#2,)  to  device 

8  with  a  secondary  address  of  2  (channel  number  2)  let- 

ting the  1541  assign  a  buffer  area. 

310-380 

Query  DOS  version. 

550 

Pad  new  diskette  name. 

560 

Reset  channel  2  pointer  to  position  144. 

570 

Overwrite  existing  disk  name  in  channel  2  buffer  area. 

580 

Write  channel  2  buffer  to  drive  0,  track  18,  sector  0. 

660 

Update  the  BAM  ($0700-$07FF)  to  reflect  a  disk  name 

change. 


The  alternate  formats  of  the  block-write  command  (U2)  in  line  580  are: 
PRINT#15, "U2: "2;0; 18; O 
PRINT#15, "U2:2,0,  18,  O" 



---
Additional information can be found by searching:
- "edit_disk_id_initialization_and_drive_check" which expands on program start, user prompts, and initial DRIVE 0 / channel 15 check
- "edit_disk_id_block_write_alternatives_bottom" which expands on additional alternate U2 command formats shown at the end of the listing
