# - Fully Commented Commodore 64 ROM Disassembly (English) - Restore system state for STOP: save status (PHP), disable interrupts (SEI), adjust VIC vertical fine scroll D011 to unblank screen, stop cassette motor (JSR $FCCA), disable interrupts via VIA ICR ($DC0D), restore vectors (calls $FDDD), restore saved IRQ vectors from $02A0/$029F to $0315/$0314 if non-zero, restore status and return (PLP, RTS).

                                *** restore everything for STOP
.,FC93 08       PHP             save status
.,FC94 78       SEI             disable the interrupts
.,FC95 AD 11 D0 LDA $D011       read the vertical fine scroll and control register
.,FC98 09 10    ORA #$10        mask xxx1 xxxx, unblank the screen
.,FC9A 8D 11 D0 STA $D011       save the vertical fine scroll and control register
.,FC9D 20 CA FC JSR $FCCA       stop the cassette motor
.,FCA0 A9 7F    LDA #$7F        disable all interrupts
.,FCA2 8D 0D DC STA $DC0D       save VIA 1 ICR
.,FCA5 20 DD FD JSR $FDDD       
.,FCA8 AD A0 02 LDA $02A0       get saved IRQ vector high byte
.,FCAB F0 09    BEQ $FCB6       branch if null
.,FCAD 8D 15 03 STA $0315       restore IRQ vector high byte
.,FCB0 AD 9F 02 LDA $029F       get saved IRQ vector low byte
.,FCB3 8D 14 03 STA $0314       restore IRQ vector low byte
.,FCB6 28       PLP             restore status
.,FCB7 60       RTS             

---
Additional information can be found by searching:
- "stop_cassette_motor" which expands on stop cassette motor via $FCCA
- "set_tape_vector" which expands on tape vector settings restored/cleared during STOP
