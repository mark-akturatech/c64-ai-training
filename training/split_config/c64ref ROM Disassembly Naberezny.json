{
  "source_file": "c64ref ROM Disassembly Naberezny.txt",
  "context": "Commented C64 KERNAL ROM Disassembly (Magnus Nyman / JiffyDOS adapted)",
  "splits": [
    {
      "start": 1,
      "end": 29,
      "ignore": true,
      "reason": "Title, source attribution, JiffyDOS adaptation notes, formatting instructions and internal comments"
    },
    {
      "start": 30,
      "end": 287,
      "name": "kernal_nyman_basic_io_and_sys",
      "description": "KERNAL BASIC I/O routines BIOERR BCHOUT BCHIN BCKOUT BCKIN BGETIN error handling SYS perform sys machine language execution SAVET VERFYT perform save load verify OPENT CLOSET perform open close SLPARA get parameters load save COMBYT one-byte parameter DEFLT default parameters CMMERR comma check OCPARA open close parameters $E0F9-$E1D3"
    },
    {
      "start": 288,
      "end": 409,
      "name": "kernal_nyman_math_trig_functions",
      "description": "KERNAL math trigonometry COS SIN TAN ATN perform cosine sine tangent arctangent PI2 trigonometry constants table ATNCON arctangent constants floating point math $E264-$E32B"
    },
    {
      "start": 410,
      "end": 643,
      "name": "kernal_nyman_basic_init_startup",
      "description": "KERNAL BASIC initialization BASSFT warm start INIT cold start INITAT CHRGET for zeropage RNDSED random seed INITCZ initialize BASIC RAM INITMS power-up message VECTORS init vectors WORDS power up message text PATCH basic CHKOUT RS232 patch reset character color pause tape file RS232 timing table PAL $E38B-$E4EB"
    },
    {
      "start": 644,
      "end": 1534,
      "name": "kernal_nyman_screen_editor",
      "description": "KERNAL screen editor IOBASE get I/O address SCREEN get screen size PLOT cursor position CINT1 initialize I/O clear screen home cursor set screen pointers set I/O defaults LP2 keyboard buffer INPUT from keyboard INPUT from screen quotes test setup screen print advance retreat cursor OUTPUT to screen go next line carriage return check line decrement increment set color code color table scroll screen open space move screen line synchronize color set start of line clear screen line print to screen synchronize color pointer $E500-$EA30"
    },
    {
      "start": 1535,
      "end": 1880,
      "name": "kernal_nyman_irq_keyboard_scan",
      "description": "KERNAL main IRQ entry point interrupt handler SCNKEY scan keyboard process key image keyboard select vectors keyboard tables unshifted shifted commodore control graphics text control SHIFT-RUN equivalent low byte screen line addresses video chip setup table $EA31-$ED08"
    },
    {
      "start": 1881,
      "end": 2199,
      "name": "kernal_nyman_serial_bus",
      "description": "KERNAL serial bus TALK send talk listen SEND data on serial bus flag errors SECOND send listen secondary address clear ATN TKSA send talk SA wait for clock CIOUT send serial deferred UNTLK send untalk unlisten ACPTR receive from serial bus serial clock on off serial output 1 0 get serial data and clock delay 1ms IEC protocol $ED09-$EEB9"
    },
    {
      "start": 2200,
      "end": 2522,
      "name": "kernal_nyman_rs232",
      "description": "KERNAL RS-232 routines send receive byte NMI RS232 handling new byte no DSR CTS error disable timer compute bit count set up to receive process byte submit to RS232 no DSR error send to RS232 buffer input from RS232 serial bus idle $EEBB-$F0B6"
    },
    {
      "start": 2523,
      "end": 2564,
      "name": "kernal_nyman_kernal_messages",
      "description": "KERNAL I/O messages table searching for loading saving press play on tape print message if direct mode $F0BD-$F12F"
    },
    {
      "start": 2565,
      "end": 2920,
      "name": "kernal_nyman_channel_io",
      "description": "KERNAL channel I/O GETIN get byte CHRIN input byte get from serial RS232 CHROUT output character CHKIN set input device CHKOUT set output device CLOSE close file part 1 2 find file set file values CLALL abort all files CLRCHN restore default I/O OPEN open file $F13E-$F3D4"
    },
    {
      "start": 2921,
      "end": 3093,
      "name": "kernal_nyman_open_rs232",
      "description": "KERNAL open file continued send secondary address open RS232 device setup baud rate NMI vector RS232 configuration $F3D5-$F498"
    },
    {
      "start": 3094,
      "end": 3399,
      "name": "kernal_nyman_load_save",
      "description": "KERNAL LOAD RAM from serial bus tape verify LOAD END print searching filename loading verifying SAVE RAM to serial bus print saving file I/O $F49E-$F698"
    },
    {
      "start": 3400,
      "end": 3482,
      "name": "kernal_nyman_time_stop",
      "description": "KERNAL UDTIM bump jiffy clock 1/60 second timer update log CIA key reading RDTIM get time SETTIM set time STOP check stop key flag $F69B-$F6F9"
    },
    {
      "start": 3483,
      "end": 4237,
      "name": "kernal_nyman_error_tape_routines",
      "description": "KERNAL output error messages I/O error too many files file open not open file not found device not present tape routines find tape header write tape header get buffer address find specific file cassette data read write block checksum motor control $F6FB-$FCE1"
    },
    {
      "start": 4238,
      "end": 4510,
      "name": "kernal_nyman_init_reset",
      "description": "KERNAL power reset entry point $FCE2 check for 8-ROM autostart cartridge CBM80 RESTOR kernal reset VECTOR kernal move vectors RAMTAS init system constants memory test clear zero page set start/top of memory tape IRQ vectors IOINIT init I/O CIA setup enable timer SETNAM SETLFS READST SETMSG SETTMO MEMTOP MEMBOT $FCE2-$FE42"
    },
    {
      "start": 4511,
      "end": 4769,
      "name": "kernal_nyman_nmi_irq_jumptable",
      "description": "KERNAL NMI entry point $FE43 warm start BASIC NMI RS232 handling RS232 timing NTSC NMI RS232 in out fake IRQ tape IRQ entry CINT init screen editor start timer kernal version ID kernal jump table $FF81-$FFF5 system hardware vectors $FFFA-$FFFF reset IRQ NMI"
    }
  ]
}
